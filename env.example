# ============================================
# Supabase Configuration
# ============================================
# Your Supabase project URL (found in Supabase dashboard > Settings > API)
PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anonymous/public key (safe to expose to client)
PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase service role key (NEVER expose to client - server-only!)
# Found in Supabase dashboard > Settings > API > service_role key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# Database Configuration (Prisma)
# ============================================
# Pooled connection string for runtime (use connection pooler URL from Supabase)
# Format: postgresql://user:password@host:port/database?pgbouncer=true
# Port 6543 is the pooler, use this for DATABASE_URL
DATABASE_URL=postgresql://postgres:password@db.your-project-id.supabase.co:6543/postgres?pgbouncer=true

# Direct connection string for migrations (non-pooled)
# Format: postgresql://user:password@host:port/database
# Use the direct connection URL from Supabase (port 5432, not 6543)
# This is required for Prisma migrations
DIRECT_URL=postgresql://postgres:password@db.your-project-id.supabase.co:5432/postgres

# ============================================
# SendGrid Email Configuration
# ============================================
# SendGrid API key (found in SendGrid dashboard > Settings > API Keys)
# Create an API key with "Mail Send" permissions
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Email address to send from (must be verified in SendGrid)
# Go to SendGrid > Settings > Sender Authentication to verify
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Display name for email sender (optional)
SENDGRID_FROM_NAME=Wedding RSVP

# SendGrid Dynamic Transactional Template ID for guest confirmation emails
# 1. Go to SendGrid > Email API > Dynamic Templates
# 2. Create a new template
# 3. Use these variables in your template:
#    - {{guestName}}
#    - {{roomName}}
#    - {{bedType}}
#    - {{checkInDate}}
#    - {{checkOutDate}}
#    - {{nights}}
#    - {{totalPrice}}
#    - {{confirmationUrl}}
# 4. Copy the template ID (starts with "d-") and paste it here
SENDGRID_TEMPLATE_GUEST_CONFIRMATION=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# Internal API Security
# ============================================
# Secret key for protecting write endpoints (generate a strong random string)
# Used for X-Internal-Api-Key header validation
# Generate with: openssl rand -hex 32
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
INTERNAL_API_KEY=your-secret-api-key-here-generate-a-strong-random-string

# ============================================
# App Configuration
# ============================================
# Base URL of your application (for email links and redirects)
# Local development: http://localhost:5173
# Production: https://your-app.vercel.app
APP_BASE_URL=http://localhost:5173

# Node environment
# Options: development, production, test
NODE_ENV=development

