import{k,l as P,m as V,n as B,o as Q,r as z,t as X,u as D,v as W,w as L,E as Z,x as $,y as j,h as N,z as ee,A as re,B as ne,C as fe,H as ae,D as U,G as H,I as b,J as le,K as ie,M as C,O as F,P as se,Q as q,R as G,S as O,T as ue,U as oe,V as te}from"./2Hr-knV9.js";function ge(e,a){return a}function ve(e,a,l){for(var v=[],p=a.length,s,i=a.length,n=0;n<p;n++){let o=a[n];G(o,()=>{if(s){if(s.pending.delete(o),s.done.add(o),s.pending.size===0){var d=e.outrogroups;y(F(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var u=v.length===0&&l!==null;if(u){var f=l,t=f.parentNode;oe(t),t.append(f),e.items.clear()}y(a,!u)}else s={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(s)}function y(e,a=!0){for(var l=0;l<e.length;l++)te(e[l],a)}var Y;function he(e,a,l,v,p,s=null){var i=e,n=new Map;{var u=e;i=N?D(ee(u)):u.appendChild(k())}N&&re();var f=null,t=ne(()=>{var c=l();return se(c)?c:c==null?[]:F(c)}),o,d=!0;function S(){_.fallback=f,de(_,o,i,a,v),f!==null&&(o.length===0?(f.f&C)===0?q(f):(f.f^=C,x(f,null,i)):G(f,()=>{f=null}))}var r=P(()=>{o=V(t);var c=o.length;let T=!1;if(N){var h=fe(i)===ae;h!==(c===0)&&(i=U(),D(i),H(!1),T=!0)}for(var M=new Set,m=Q,I=X(),w=0;w<c;w+=1){N&&b.nodeType===le&&b.data===ie&&(i=b,T=!0,H(!1));var R=o[w],g=v(R,w),E=d?null:n.get(g);E?(E.v&&B(E.v,R),E.i&&B(E.i,w),I&&m.skipped_effects.delete(E.e)):(E=ce(n,d?i:Y??=k(),R,g,w,p,a,l),d||(E.e.f|=C),n.set(g,E)),M.add(g)}if(c===0&&s&&!f&&(d?f=z(()=>s(i)):(f=z(()=>s(Y??=k())),f.f|=C)),N&&c>0&&D(U()),!d)if(I){for(const[J,K]of n)M.has(J)||m.skipped_effects.add(K.e);m.oncommit(S),m.ondiscard(()=>{})}else S();T&&H(!0),V(t)}),_={effect:r,items:n,outrogroups:null,fallback:f};d=!1,N&&(i=b)}function de(e,a,l,v,p){var s=a.length,i=e.items,n=e.effect.first,u,f=null,t=[],o=[],d,S,r,_;for(_=0;_<s;_+=1){if(d=a[_],S=p(d,_),r=i.get(S).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&C)!==0)if(r.f^=C,r===n)x(r,null,l);else{var c=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),A(e,f,r),A(e,r,c),x(r,c,l),f=r,t=[],o=[],n=f.next;continue}if((r.f&O)!==0&&q(r),r!==n){if(u!==void 0&&u.has(r)){if(t.length<o.length){var T=o[0],h;f=T.prev;var M=t[0],m=t[t.length-1];for(h=0;h<t.length;h+=1)x(t[h],T,l);for(h=0;h<o.length;h+=1)u.delete(o[h]);A(e,M.prev,m.next),A(e,f,M),A(e,m,T),n=T,f=m,_-=1,t=[],o=[]}else u.delete(r),x(r,n,l),A(e,r.prev,r.next),A(e,r,f===null?e.effect.first:f.next),A(e,f,r),f=r;continue}for(t=[],o=[];n!==null&&n!==r;)(u??=new Set).add(n),o.push(n),n=n.next;if(n===null)continue}(r.f&C)===0&&t.push(r),f=r,n=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(y(F(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||u!==void 0){var I=[];if(u!==void 0)for(r of u)(r.f&O)===0&&I.push(r);for(;n!==null;)(n.f&O)===0&&n!==e.fallback&&I.push(n),n=n.next;var w=I.length;if(w>0){var R=s===0?l:null;ve(e,I,R)}}}function ce(e,a,l,v,p,s,i,n){var u=(i&Z)!==0?(i&$)===0?W(l,!1,!1):L(l):null,f=(i&j)!==0?L(p):null;return u&&(u.trace=()=>{n()[f?.v??p]}),{v:u,i:f,e:z(()=>(s(a,u??l,f??p,n),()=>{e.delete(v)}))}}function x(e,a,l){if(e.nodes)for(var v=e.nodes.start,p=e.nodes.end,s=a&&(a.f&C)===0?a.nodes.start:l;v!==null;){var i=ue(v);if(s.before(v),v===p)return;v=i}}function A(e,a,l){a===null?e.effect.first=l:a.next=l,l===null?e.effect.last=a:l.prev=a}export{he as e,ge as i};
